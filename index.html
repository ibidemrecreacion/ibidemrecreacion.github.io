<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ibidem: Recreación e Interpretación Histórica</title>
    <meta name="description" content="Asociación de recreación histórica dedicada a la reconstrucción minuciosa de la vida civil romana y asesoramiento documental.">

    <link rel="icon" type="image/svg+xml" href="https://raw.github.com/ibidemrecreacion/ibidemrecreacion.github.io/main/assets/img/General/Logos/svg/Ibidem_logo_nuevo_rojo.svg">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18.2.0/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone@7.23.6/babel.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lato:wght@300;400;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400&display=swap" rel="stylesheet">

    <style>
    :root {
        --color-pompeyano: #9A2A2A;
        --color-pergamino: #F5EFE3;
        --color-pergamino-light: #FAF7F2;
        --color-texto: #2D2D2D;
        --color-bronce: #7A7A52;
        --color-ocre: #D4A017;
    }

    body {
        font-family: 'Merriweather', serif;
        background-color: var(--color-pergamino);
        color: var(--color-texto);
        line-height: 1.8;
        background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
    }

    .font-cinzel { font-family: 'Cinzel', serif; letter-spacing: 0.1em; text-transform: uppercase; }
    .font-lato { font-family: 'Lato', sans-serif; }
    
    .card-ibidem {
        background-color: var(--color-pergamino-light);
        border: 1px solid rgba(122, 122, 82, 0.3);
        transition: all 0.3s ease;
    }
    .card-ibidem:hover {
        border-color: var(--color-pompeyano);
        box-shadow: 4px 4px 0px rgba(154, 42, 42, 0.1); 
    }

    .main-header {
        background-color: rgba(245, 239, 227, 0.98);
        border-bottom: 3px double var(--color-pompeyano);
        padding: 1rem 0;
    }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        pompeyano: 'var(--color-pompeyano)',
                        pergamino: 'var(--color-pergamino)',
                        'pergamino-light': 'var(--color-pergamino-light)',
                        texto: 'var(--color-texto)',
                        bronce: 'var(--color-bronce)',
                        ocre: 'var(--color-ocre)'
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="loader" class="fixed inset-0 z-50 bg-pergamino flex flex-col items-center justify-center transition-opacity duration-500">
        <img src="https://raw.github.com/ibidemrecreacion/ibidemrecreacion.github.io/main/assets/img/General/Logos/svg/Ibidem_logo_nuevo_rojo.svg" alt="Ibidem Logo" class="h-32 w-auto mb-8 animate-pulse" />
        <p class="font-cinzel text-pompeyano tracking-[0.3em] text-sm">FIRMITAS • HUMANITAS • INTEGRITAS</p>
    </div>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const NAV_ITEMS = [
            { key: 'home', label: 'DOMUS' },
            { key: 'nostri', label: 'NOSTRI' },
            { key: 'fasti', label: 'FASTI' },
            { key: 'traiectus', label: 'PROYECTOS' }, // Nueva sección de trayectoria
            { key: 'tabularium', label: 'TABULARIUM' },
            { key: 'civitas', label: 'CIVITAS' }
        ];

        const Icons = {
            Menu: "M4 12h16M4 6h16M4 18h16", X: "M18 6L6 18M6 6l12 12",
            Tv: "M2 8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8z M7 21h10 M12 17v4",
            Film: "M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l4.55-2.28a2 2 0 0 1 1.79 0l4.55 2.28A2 2 0 0 1 15.4 8.35V20 M2 12h20",
            Award: "M12 15l-2 5L12 18l2 2-2-5z M12 2a7 7 0 0 0-7 7c0 5 7 13 7 13s7-8 7-13a7 7 0 0 0-7-7z",
            Download: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4 M7 10l5 5 5-5 M12 15V3",
            Users: "M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2 M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8",
            ArrowLeft: "M19 12H5 M12 19l-7-7 7-7", ArrowRight: "M5 12h14M12 5l7 7-7 7"
        };

        const Icon = ({ path, size = 20, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d={path} /></svg>
        );

        const SectionHeader = ({ title, subtitle }) => (
            <div className="text-center mb-12 pt-8 px-4">
                {subtitle && <span className="block font-lato text-bronce font-bold text-xs tracking-[0.2em] uppercase mb-3">{subtitle}</span>}
                <h2 className="font-cinzel text-3xl md:text-5xl font-bold text-texto border-b border-bronce pb-4 inline-block">{title}</h2>
            </div>
        );

        // --- COMPONENTES DE PÁGINA ---

        const PageTraiectus = () => {
            const proyectos = [
                {
                    tipo: 'DOCUMENTAL',
                    titulo: 'Interpretación para Museos',
                    entidad: 'Varios Museos Arqueológicos',
                    desc: 'Participación en rodajes de material didáctico y videoguías institucionales, aportando no solo los actores sino el asesoramiento en indumentaria y protocolos sociales tardorromanos.',
                    icon: Icons.Film
                },
                {
                    tipo: 'TELEVISIÓN',
                    titulo: 'Producciones Nacionales',
                    entidad: 'Documentales de TV',
                    desc: 'Colaboración técnica y figuración especializada para recrear escenas de la vida cotidiana en la Hispania del Bajo Imperio para programas de divulgación histórica.',
                    icon: Icons.Tv
                },
                {
                    tipo: 'FESTIVALES',
                    titulo: 'Festivales de Recreación',
                    entidad: 'Festivales Internacionales',
                    desc: 'Participación destacada en festivales como Itálica o Córdoba Romana, presentando recreaciones rituales de alto impacto visual y rigor histórico.',
                    icon: Icons.Award
                }
            ];

            return (
                <div className="fade-in py-12 px-4 max-w-6xl mx-auto">
                    <SectionHeader title="TRAIECTVS" subtitle="Trayectoria Documental y Festivales" />
                    
                    <div className="grid md:grid-cols-3 gap-8">
                        {proyectos.map((p, i) => (
                            <div key={i} className="card-ibidem p-8 flex flex-col h-full">
                                <div className="bg-pompeyano w-12 h-12 flex items-center justify-center text-white mb-6">
                                    <Icon path={p.icon} size={24} />
                                </div>
                                <span className="font-lato text-xs font-bold text-ocre uppercase tracking-widest mb-2">{p.tipo}</span>
                                <h3 className="font-cinzel text-xl font-bold text-texto mb-4">{p.titulo}</h3>
                                <p className="font-lato text-xs text-bronce uppercase mb-4 font-bold">{p.entidad}</p>
                                <p className="text-sm text-gray-700 leading-relaxed italic">{p.desc}</p>
                            </div>
                        ))}
                    </div>

                    <div className="mt-20 bg-texto text-pergamino p-10 text-center border-t-4 border-pompeyano">
                        <h3 className="font-cinzel text-2xl mb-4">¿Buscas asesoramiento documental?</h3>
                        <p className="max-w-2xl mx-auto mb-8 font-merriweather italic">Ofrecemos asesoría técnica para productoras, directores de arte y museos que busquen un rigor absoluto en la recreación de la Antigüedad Tardía.</p>
                        <a href="#civitas" className="inline-block bg-pompeyano text-white font-cinzel px-8 py-3 hover:bg-red-900 transition-colors">Solicitar Servicios de Asesoría</a>
                    </div>
                </div>
            );
        };

        const PageCivitas = ({ data }) => (
            <div className="fade-in px-4 py-12 max-w-6xl mx-auto">
                <SectionHeader title="CIVITAS" subtitle="Participación y Recursos" />
                
                <div className="grid md:grid-cols-2 gap-12 mb-20">
                    {/* Seccion Membresía */}
                    <div className="bg-white p-8 border-t-4 border-pompeyano shadow-sm">
                        <Icon path={Icons.Users} size={40} className="text-pompeyano mb-4" />
                        <h3 className="font-cinzel text-2xl font-bold text-texto mb-4">Admissio: Hazte Socio</h3>
                        <p className="font-merriweather text-sm text-gray-600 mb-6">Únete a nuestra asociación para participar activamente en la recreación e investigación de la historia civil romana.</p>
                        <a href={`mailto:${data.general.email}`} className="inline-block bg-pompeyano text-white font-cinzel text-sm font-bold py-3 px-6 hover:bg-red-900 transition">Solicitar Ingreso</a>
                    </div>

                    {/* Descargas Institucionales (AQUÍ SUBIMOS EL MANUAL) */}
                    <div className="bg-pergamino-light p-8 border border-bronce/30 shadow-sm">
                        <h3 className="font-cinzel text-2xl font-bold text-texto mb-6 border-b border-bronce/30 pb-2">Tabula Publica: Descargas</h3>
                        <div className="space-y-4">
                            <div className="flex items-center justify-between p-3 bg-white border-l-4 border-bronce">
                                <span className="font-lato text-sm font-bold">Manual de Identidad (v1.0)</span>
                                <a href="#" className="text-pompeyano hover:scale-110 transition"><Icon path={Icons.Download} /></a>
                            </div>
                            <div className="flex items-center justify-between p-3 bg-white border-l-4 border-bronce">
                                <span className="font-lato text-sm font-bold">Dossier Institucional (Próximamente)</span>
                                <span className="text-gray-300"><Icon path={Icons.Download} /></span>
                            </div>
                        </div>
                    </div>
                </div>

                {/* Formulario de Contacto */}
                <div className="bg-white p-8 border border-gray-200">
                    <h3 className="font-cinzel text-xl mb-6">Enviadnos vuestro mensaje</h3>
                    <form className="grid md:grid-cols-2 gap-6">
                        <input type="text" placeholder="Nombre" className="p-3 border border-gray-300 outline-none focus:border-pompeyano" />
                        <input type="email" placeholder="Email" className="p-3 border border-gray-300 outline-none focus:border-pompeyano" />
                        <textarea placeholder="Mensaje" className="p-3 border border-gray-300 outline-none focus:border-pompeyano md:col-span-2 h-32"></textarea>
                        <button className="bg-texto text-white font-cinzel py-3 md:w-max px-12 hover:bg-pompeyano transition">Enviar</button>
                    </form>
                </div>
            </div>
        );

        // --- COMPONENTE PRINCIPAL (Mantiene lógica previa) ---

        const App = () => {
            const [data, setData] = useState(null);
            const [page, setPage] = useState('home');
            const [mobileMenu, setMobileMenu] = useState(false);

            useEffect(() => {
                fetch('./datos.json').then(r => r.json()).then(d => {
                    setData(d);
                    setTimeout(() => {
                        const loader = document.getElementById('loader');
                        if(loader) loader.style.opacity = '0';
                    }, 500);
                });
                const handleHash = () => { setPage(window.location.hash.slice(1) || 'home'); setMobileMenu(false); window.scrollTo(0,0); };
                window.addEventListener('hashchange', handleHash);
                handleHash();
            }, []);

            if (!data) return null;

            return (
                <div className="flex flex-col min-h-screen">
                    <header className="main-header sticky top-0 z-40">
                        <div className="container mx-auto px-6 flex justify-between items-center">
                            <a href="#home"><img src={data.general.logoUrl} alt="Ibidem" className="h-16 md:h-20 w-auto"/></a>
                            <nav className="hidden md:flex space-x-8">
                                {NAV_ITEMS.map(item => (
                                    <a key={item.key} href={`#${item.key}`} className={`font-cinzel font-bold text-sm tracking-widest py-2 border-b-2 transition-all ${page===item.key ? 'text-pompeyano border-pompeyano' : 'text-texto border-transparent hover:text-pompeyano'}`}>
                                        {item.label}
                                    </a>
                                ))}
                            </nav>
                            <button className="md:hidden text-pompeyano" onClick={() => setMobileMenu(true)}><Icon path={Icons.Menu} size={28}/></button>
                        </div>
                    </header>

                    {mobileMenu && (
                        <div className="fixed inset-0 z-50 bg-pergamino flex flex-col items-center justify-center space-y-8">
                            <button onClick={() => setMobileMenu(false)} className="absolute top-6 right-6 text-pompeyano"><Icon path={Icons.X} size={40}/></button>
                            {NAV_ITEMS.map(item => (
                                <a key={item.key} href={`#${item.key}`} className="font-cinzel text-2xl font-bold" onClick={() => setMobileMenu(false)}>{item.label}</a>
                            ))}
                        </div>
                    )}

                    <main className="flex-grow">
                        {page === 'home' && <div className="p-20 text-center font-cinzel">Sección Domus cargada.</div>}
                        {page === 'traiectus' && <PageTraiectus />}
                        {page === 'civitas' && <PageCivitas data={data} />}
                        {/* El resto de páginas se integrarían aquí igual que en la versión previa */}
                    </main>

                    <footer className="bg-texto text-pergamino py-12 border-t-8 border-pompeyano text-center">
                        <img src={data.general.logoUrl} alt="Ibidem" className="h-12 mx-auto mb-6 opacity-50 grayscale" />
                        <div className="flex justify-center gap-6 mb-6">
                            <a href={data.general.facebook}><Icon path={Icons.Facebook} size={24}/></a>
                            <a href={data.general.instagram}><Icon path={Icons.Instagram} size={24}/></a>
                        </div>
                        <p className="font-cinzel text-xs text-gray-500">&copy; {new Date().getFullYear()} IBIDEM. Todos los derechos reservados.</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>